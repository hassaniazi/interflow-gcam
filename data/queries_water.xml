<?xml version="1.0" encoding="UTF-8"?>
<queries>
<aQuery>
  <resourceQuery title="basin level available runoff">
	<axis1 name="Basin">resource[@name]</axis1>
	<axis2 name="Year">max-annual-subresource[@year]</axis2>
	<xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type = 'resource' and contains(@name, 'water withdrawals')]/*[@type = 'subresource' and contains(@name, 'runoff')]/max-annual-subresource/node()</xPath>
	<comments/>
  </resourceQuery>
</aQuery>
<aQuery>
  <resourceQuery title="total runoff available">
	<axis1 name="grade">grade</axis1>
	<axis2 name="Year">available</axis2>
	<xPath buildList="true" dataName="output" group="false" sumAll="true">*[@type='resource']/*[@type='subresource' and @name='runoff']/grade/available/node()</xPath>
	<comments/>
  </resourceQuery>
</aQuery>
<aQuery>
  <resourceQuery title="total groundwater available">
	<axis1 name="grade">grade</axis1>
	<axis2 name="Year">available</axis2>
	<xPath buildList="true" dataName="output" group="false" sumAll="true">*[@type='resource']/*[@type='subresource' and @name='groundwater']/grade/available/node()</xPath>
	<comments/>
  </resourceQuery>
</aQuery>
<aQuery>
  <supplyDemandQuery title="water withdrawals by state, sector, basin (includes desal)">
   <axis1 name="technology">technology</axis1>
   <axis2 name="Year">physical-output[@vintage]</axis2>
   <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector']/*[@type='subsector']/*[@type='technology']/*[@type='output' (:collapse:)
		and contains(@name,'water_td') and ends-with(@name,'_W')]/physical-output/node()</xPath>
   <comments/>
  </supplyDemandQuery>
</aQuery>
<aQuery>
  <supplyDemandQuery title="water consumption by state, sector, basin (includes desal)">
   <axis1 name="technology">technology</axis1>
   <axis2 name="Year">physical-output[@vintage]</axis2>
   <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector']/*[@type='subsector']/*[@type='technology']/*[@type='output' (:collapse:)
	and contains(@name,'water_td') and ends-with(@name,'_C')]/physical-output/node()</xPath>
   <comments/>
  </supplyDemandQuery>
</aQuery>
<aQuery>
  <supplyDemandQuery title="water withdrawals by tech">
	<axis1 name="technology">technology</axis1>
	<axis2 name="Year">demand-physical[@vintage]</axis2>
	<xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' and not(contains(@name, 'water_td'))]/*[@type='subsector']/*[@type='technology']/*[@type='input' (:collapse:)
		and contains(@name,'water_td') and ends-with(@name,'_W')]/demand-physical/node()</xPath>
	<comments/>
  </supplyDemandQuery>
</aQuery>
<!-- <aQuery>
  <supplyDemandQuery title="water withdrawals by tech (all elec)">
	<axis1 name="technology">technology</axis1>
	<axis2 name="Year">demand-physical[@vintage]</axis2>
	<xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' and not(contains(@name, 'water_td'))]/*[@type='subsector']/*[@type='technology']/*[@type='input' (:collapse:)
		and contains(@name,'water_td') and ends-with(@name,'_W')]/demand-physical/node()</xPath>
	<comments/>
	<labelRewriteList append-values="false">
		<level name="sector">
			<rewrite from="elec_Gen_III" to="electricity"/>
			<rewrite from="elec_CSP_storage" to="electricity"/>
			<rewrite from="elec_refined liquids (steam/CT)" to="electricity"/>
			<rewrite from="elec_geothermal" to="electricity"/>
			<rewrite from="elec_refined liquids (CC)" to="electricity"/>
			<rewrite from="elec_Gen_II_LWR" to="electricity"/>
			<rewrite from="elec_gas (steam/CT)" to="electricity"/>
			<rewrite from="elec_coal (IGCC)" to="electricity"/>
			<rewrite from="elec_gas (CC)" to="electricity"/>
			<rewrite from="elec_biomass (IGCC)" to="electricity"/>
			<rewrite from="elec_coal (conv pul)" to="electricity"/>
			<rewrite from="elec_CSP" to="electricity"/>
			<rewrite from="elec_biomass (conv)" to="electricity"/>
		</level>
	</labelRewriteList>
  </supplyDemandQuery>
</aQuery> -->
<aQuery>
  <supplyDemandQuery title="cumulative ground water used">
    <axis1 name="subresource">subresource</axis1>
    <axis2 name="Year">cumulative-production</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='resource']/*[@type='subresource' and @name='groundwater']/cumulative-production/node()</xPath>
    <comments/>
  </supplyDemandQuery>
</aQuery>
<aQuery>
  <supplyDemandQuery title="water withdrawals by water source (runoff vs. groundwater)">
   <axis1 name="subresource">subresource[@name]</axis1>
   <axis2 name="Year">production[@year]</axis2>
   <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type = 'resource' and contains(@name, 'water withdrawals')]//production/node()</xPath>
   <comments/>
  </supplyDemandQuery>
</aQuery>
</queries>