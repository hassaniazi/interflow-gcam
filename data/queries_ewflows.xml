<?xml version="1.0" encoding="UTF-8"?>
<queries>
<aQuery>
<supplyDemandQuery title="resource supply curves">
    <axis1 name="grade">grade</axis1>
    <axis2 name="Year">available</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='resource']//grade/available/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="resource production">
    <axis1 name="resource">resource</axis1>
    <axis2 name="Year">output</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='resource']/output/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="resource production by tech and vintage">
    <axis1 name="technology">technology[@name]</axis1>
    <axis2 name="Year">physical-output[@vintage]</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='resource']/*[@type='subresource']/
            *[@type='technology']/output-primary[@type='output' (:collapse:)]/physical-output/node()</xPath>
    <comments/>
    <showAttribute attribute-name="year" level="technology"/>
</supplyDemandQuery>
</aQuery>
<aQuery>
  <resourceQuery title="basin level available runoff">
	<axis1 name="Basin">resource[@name]</axis1>
	<axis2 name="Year">max-annual-subresource[@year]</axis2>
	<xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type = 'resource' and contains(@name, 'water withdrawals')]/*[@type = 'subresource' and contains(@name, 'runoff')]/max-annual-subresource/node()</xPath>
	<comments/>
  </resourceQuery>
</aQuery>
<!-- this doens't work because runoff availability is specified by the max-annual-subresource, not the grade
<aQuery>
  <resourceQuery title="total runoff available">
	<axis1 name="grade">grade</axis1>
	<axis2 name="Year">available</axis2>
	<xPath buildList="true" dataName="output" group="false" sumAll="true">*[@type='resource']/*[@type='subresource' and @name='runoff']/grade/available/node()</xPath>
	<comments/>
  </resourceQuery>
</aQuery>
 -->
<aQuery>
  <resourceQuery title="total groundwater available">
	<axis1 name="grade">grade</axis1>
	<axis2 name="Year">available</axis2>
	<xPath buildList="true" dataName="output" group="false" sumAll="true">*[@type='resource']/*[@type='subresource' and @name='groundwater']/grade/available/node()</xPath>
	<comments/>
  </resourceQuery>
</aQuery>
<!-- <aQuery>
<supplyDemandQuery title="water withdrawals by region">
    <axis1 name="region">region</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' (:collapse:) and not(contains(@name, 'water_td'))]//*[@type='input' (:collapse:) and contains(@name,'water_td')
         and ends-with(@name,'_W')]/demand-physical/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery> -->
<aQuery>
<supplyDemandQuery title="water withdrawals by water mapping source">
    <axis1 name="input">input</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' (:collapse:) and not(contains(@name, 'water_td'))]//*[@type='input' and contains(@name,'water_td')
         and ends-with(@name,'_W')]/demand-physical/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
<aQuery>
  <supplyDemandQuery title="water withdrawals by tech">
	<axis1 name="technology">technology</axis1>
	<axis2 name="Year">demand-physical[@vintage]</axis2>
	<xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' and not(contains(@name, 'water_td'))]/*[@type='subsector']/*[@type='technology']/*[@type='input' (:collapse:)
		and contains(@name,'water_td') and ends-with(@name,'_W')]/demand-physical/node()</xPath>
	<comments/>
  </supplyDemandQuery>
</aQuery>
<!-- <aQuery>
  <supplyDemandQuery title="water withdrawals by tech (all elec)">
	<axis1 name="technology">technology</axis1>
	<axis2 name="Year">demand-physical[@vintage]</axis2>
	<xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' and not(contains(@name, 'water_td'))]/*[@type='subsector']/*[@type='technology']/*[@type='input' (:collapse:)
		and contains(@name,'water_td') and ends-with(@name,'_W')]/demand-physical/node()</xPath>
	<comments/>
	<labelRewriteList append-values="false">
		<level name="sector">
			<rewrite from="elec_Gen_III" to="electricity"/>
			<rewrite from="elec_CSP_storage" to="electricity"/>
			<rewrite from="elec_refined liquids (steam/CT)" to="electricity"/>
			<rewrite from="elec_geothermal" to="electricity"/>
			<rewrite from="elec_refined liquids (CC)" to="electricity"/>
			<rewrite from="elec_Gen_II_LWR" to="electricity"/>
			<rewrite from="elec_gas (steam/CT)" to="electricity"/>
			<rewrite from="elec_coal (IGCC)" to="electricity"/>
			<rewrite from="elec_gas (CC)" to="electricity"/>
			<rewrite from="elec_biomass (IGCC)" to="electricity"/>
			<rewrite from="elec_coal (conv pul)" to="electricity"/>
			<rewrite from="elec_CSP" to="electricity"/>
			<rewrite from="elec_biomass (conv)" to="electricity"/>
		</level>
	</labelRewriteList>
  </supplyDemandQuery>
</aQuery> -->
<aQuery>
  <supplyDemandQuery title="water withdrawals by state, sector, basin (includes desal)">
   <axis1 name="technology">technology</axis1>
   <axis2 name="Year">physical-output[@vintage]</axis2>
   <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector']/*[@type='subsector']/*[@type='technology']/*[@type='output' (:collapse:)
		and contains(@name,'water_td') and ends-with(@name,'_W')]/physical-output/node()</xPath>
   <comments/>
  </supplyDemandQuery>
</aQuery>
<aQuery>
  <supplyDemandQuery title="water withdrawals by water source (runoff vs. groundwater)">
   <axis1 name="subresource">subresource[@name]</axis1>
   <axis2 name="Year">production[@year]</axis2>
   <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type = 'resource' and contains(@name, 'water withdrawals')]//production/node()</xPath>
   <comments/>
  </supplyDemandQuery>
</aQuery>
<!-- GCAM-USA queries  -->
<aQuery>
<supplyDemandQuery title="elec energy input by elec gen tech and cooling tech">
    <axis1 name="input">input</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' and (@name='electricity' or 
                  @name='elect_td_bld' ) and not(contains(@name, 'water_td'))]//
                  *[@type='subsector' and not (@name='elect_td_bld')]//
                  *[@type='technology' and not(@name='biomass (conv)' or @name='biomass (conv CCS)' or @name='biomass (IGCC)' or @name='biomass (IGCC CCS)'
                                   or @name='coal (conv pul)' or @name='coal (conv pul CCS)' or @name='coal (IGCC)' or @name='coal (IGCC CCS)'
                                   or @name='gas (steam/CT)' or @name='gas (CC)' or @name='gas (CC CCS)'
                                   or @name='refined liquids (steam/CT)' or @name='refined liquids (CC)' or @name='refined liquids (CC CCS)'
                                   or @name='geothermal' or @name='Gen_II_LWR' or @name='Gen_III'
                                   or @name='CSP' or @name='CSP_storage')]/
                   *[@type='input' and not( contains( @name, 'water')) and @name != 'oil-credits']/
                   demand-physical/node()
                </xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="elec water withdrawals by gen tech and cooling tech">
    <axis1 name="input">input</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector']//
               *[@type='subsector' and not(@name='elect_td_bld')]//*[@type='technology']/
               *[@type='input' and (@name='water_td_elec_W')]/demand-physical/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="elec gen by gen tech and cooling tech (incl cogen)">
    <axis1 name="technology">technology</axis1>
    <axis2 name="Year">physical-output[@vintage]</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='sector' and (@name='electricity' or @name='elect_td_bld' or @name='industrial energy use')]//
                        *[@type='subsector']//*[@type='technology' and not (@name='electricity' or @name='elect_td_bld')]/
                        *[@type='output' (:collapse:) and (@name='electricity' or @name='elect_td_bld') or ( contains( @name, 'electricity_'))]/
                        physical-output/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
<!-- Core model queries -->
<aQuery>
<supplyDemandQuery title="elec energy input by elec gen tech">
    <axis1 name="input">input</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector' and (@name='electricity' or @name='elect_td_bld' or
                  contains(@name,'elec_')) and not(contains(@name, 'water_td'))]/
                  *[@type='subsector' and not (@name='elect_td_bld')]/
                  *[@type='technology' and not(@name='biomass (conv)' or @name='biomass (conv CCS)' or @name='biomass (IGCC)' or @name='biomass (IGCC CCS)'
                                   or @name='coal (conv pul)' or @name='coal (conv pul CCS)' or @name='coal (IGCC)' or @name='coal (IGCC CCS)'
                                   or @name='gas (steam/CT)' or @name='gas (CC)' or @name='gas (CC CCS)'
                                   or @name='refined liquids (steam/CT)' or @name='refined liquids (CC)' or @name='refined liquids (CC CCS)'
                                   or @name='geothermal' or @name='Gen_II_LWR' or @name='Gen_III'
                                   or @name='CSP' or @name='CSP_storage')]/
                   *[@type='input' and not( contains( @name, 'water')) and @name != 'oil-credits']/
                   demand-physical/node()
                </xPath>
    <comments/>
    <labelRewriteList append-values="false">
        <level name="sector">
            <rewrite from="elec_Gen_III" to="electricity"/>
            <rewrite from="elec_CSP_storage" to="electricity"/>
            <rewrite from="elec_refined liquids (steam/CT)" to="electricity"/>
            <rewrite from="elec_geothermal" to="electricity"/>
            <rewrite from="elec_refined liquids (CC)" to="electricity"/>
            <rewrite from="elec_biomass (conv CCS)" to="electricity"/>
            <rewrite from="elec_Gen_II_LWR" to="electricity"/>
            <rewrite from="elec_gas (steam/CT)" to="electricity"/>
            <rewrite from="elec_biomass (IGCC CCS)" to="electricity"/>
            <rewrite from="elec_coal (IGCC CCS)" to="electricity"/>
            <rewrite from="elec_coal (IGCC)" to="electricity"/>
            <rewrite from="elec_coal (conv pul CCS)" to="electricity"/>
            <rewrite from="elec_gas (CC)" to="electricity"/>
            <rewrite from="elec_biomass (IGCC)" to="electricity"/>
            <rewrite from="elec_coal (conv pul)" to="electricity"/>
            <rewrite from="elec_CSP" to="electricity"/>
            <rewrite from="elec_gas (CC CCS)" to="electricity"/>
            <rewrite from="elec_biomass (conv)" to="electricity"/>
            <rewrite from="elec_refined liquids (CC CCS)" to="electricity"/>
        </level>
        <level name="subsector">
            <rewrite from="gas (CC)" to="gas"/>
            <rewrite from="CSP" to="solar"/>
            <rewrite from="gas (CC CCS)" to="gas"/>
            <rewrite from="coal (IGCC CCS)" to="coal"/>
            <rewrite from="biomass (conv)" to="biomass"/>
            <rewrite from="Gen_II_LWR" to="nuclear"/>
            <rewrite from="coal (conv pul)" to="coal"/>
            <rewrite from="coal (IGCC)" to="coal"/>
            <rewrite from="biomass (conv CCS)" to="biomass"/>
            <rewrite from="gas (steam/CT)" to="gas"/>
            <rewrite from="CSP_storage" to="solar"/>
            <rewrite from="biomass (IGCC)" to="biomass"/>
            <rewrite from="Gen_III" to="nuclear"/>
            <rewrite from="coal (conv pul CCS)" to="coal"/>
            <rewrite from="refined liquids (CC)" to="refined liquids"/>
            <rewrite from="biomass (IGCC CCS)" to="biomass"/>
            <rewrite from="refined liquids (CC CCS)" to="refined liquids"/>
            <rewrite from="refined liquids (steam/CT)" to="refined liquids"/>
        </level>
        <level name="technology">
            <rewrite from="CSP (recirculating)" to="CSP"/>
            <rewrite from="Gen_II_LWR (cooling pond)" to="Gen_II_LWR"/>
            <rewrite from="refined liquids (CC CCS) (seawater)" to="refined liquids (CC CCS)"/>
            <rewrite from="refined liquids (CC) (cooling pond)" to="refined liquids (CC)"/>
            <rewrite from="Gen_III (once through)" to="Gen_III"/>
            <rewrite from="coal (conv pul) (dry cooling)" to="coal (conv pul)"/>
            <rewrite from="refined liquids (steam/CT) (seawater)" to="refined liquids (steam/CT)"/>
            <rewrite from="biomass (IGCC CCS) (seawater)" to="biomass (IGCC CCS)"/>
            <rewrite from="refined liquids (steam/CT) (recirculating)" to="refined liquids (steam/CT)"/>
            <rewrite from="gas (CC) (seawater)" to="gas (CC)"/>
            <rewrite from="biomass (IGCC) (once through)" to="biomass (IGCC)"/>
            <rewrite from="refined liquids (steam/CT) (once through)" to="refined liquids (steam/CT)"/>
            <rewrite from="biomass (IGCC CCS) (dry cooling)" to="biomass (IGCC CCS)"/>
            <rewrite from="geothermal (recirculating)" to="geothermal"/>
            <rewrite from="coal (conv pul CCS) (once through)" to="coal (conv pul CCS)"/>
            <rewrite from="coal (conv pul CCS) (seawater)" to="coal (conv pul CCS)"/>
            <rewrite from="coal (IGCC) (cooling pond)" to="coal (IGCC)"/>
            <rewrite from="coal (conv pul CCS) (recirculating)" to="coal (conv pul CCS)"/>
            <rewrite from="refined liquids (CC CCS) (once through)" to="refined liquids (CC CCS)"/>
            <rewrite from="coal (IGCC CCS) (recirculating)" to="coal (IGCC CCS)"/>
            <rewrite from="coal (IGCC) (recirculating)" to="coal (IGCC)"/>
            <rewrite from="coal (IGCC CCS) (seawater)" to="coal (IGCC CCS)"/>
            <rewrite from="coal (conv pul CCS) (dry cooling)" to="coal (conv pul CCS)"/>
            <rewrite from="biomass (IGCC CCS) (once through)" to="biomass (IGCC CCS)"/>
            <rewrite from="biomass (IGCC) (dry cooling)" to="biomass (IGCC)"/>
            <rewrite from="gas (CC CCS) (seawater)" to="gas (CC CCS)"/>
            <rewrite from="coal (IGCC) (seawater)" to="coal (IGCC)"/>
            <rewrite from="Gen_II_LWR (once through)" to="Gen_II_LWR"/>
            <rewrite from="refined liquids (CC) (recirculating)" to="refined liquids (CC)"/>
            <rewrite from="gas (CC CCS) (once through)" to="gas (CC CCS)"/>
            <rewrite from="refined liquids (steam/CT) (cooling pond)" to="refined liquids (steam/CT)"/>
            <rewrite from="biomass (IGCC) (cooling pond)" to="biomass (IGCC)"/>
            <rewrite from="Gen_III (cooling pond)" to="Gen_III"/>
            <rewrite from="refined liquids (CC CCS) (cooling pond)" to="refined liquids (CC CCS)"/>
            <rewrite from="coal (IGCC CCS) (dry cooling)" to="coal (IGCC CCS)"/>
            <rewrite from="coal (conv pul CCS) (cooling pond)" to="coal (conv pul CCS)"/>
            <rewrite from="biomass (conv CCS) (once through)" to="biomass (conv CCS)"/>
            <rewrite from="coal (IGCC CCS) (cooling pond)" to="coal (IGCC CCS)"/>
            <rewrite from="gas (CC) (recirculating)" to="gas (CC)"/>
            <rewrite from="coal (conv pul) (recirculating)" to="coal (conv pul)"/>
            <rewrite from="biomass (conv CCS) (seawater)" to="biomass (conv CCS)"/>
            <rewrite from="biomass (conv CCS) (recirculating)" to="biomass (conv CCS)"/>
            <rewrite from="Gen_III (recirculating)" to="Gen_III"/>
            <rewrite from="Gen_II_LWR (recirculating)" to="Gen_II_LWR"/>
            <rewrite from="gas (CC) (dry cooling)" to="gas (CC)"/>
            <rewrite from="Gen_III (seawater)" to="Gen_III"/>
            <rewrite from="coal (conv pul) (seawater)" to="coal (conv pul)"/>
            <rewrite from="biomass (conv) (dry cooling)" to="biomass (conv)"/>
            <rewrite from="gas (steam/CT) (once through)" to="gas (steam/CT)"/>
            <rewrite from="biomass (IGCC CCS) (recirculating)" to="biomass (IGCC CCS)"/>
            <rewrite from="gas (steam/CT) (recirculating)" to="gas (steam/CT)"/>
            <rewrite from="CSP_storage (recirculating)" to="CSP_storage"/>
            <rewrite from="biomass (conv) (seawater)" to="biomass (conv)"/>
            <rewrite from="biomass (IGCC) (recirculating)" to="biomass (IGCC)"/>
            <rewrite from="biomass (IGCC CCS) (cooling pond)" to="biomass (IGCC CCS)"/>
            <rewrite from="gas (CC) (cooling pond)" to="gas (CC)"/>
            <rewrite from="biomass (conv CCS) (cooling pond)" to="biomass (conv CCS)"/>
            <rewrite from="biomass (conv) (cooling pond)" to="biomass (conv)"/>
            <rewrite from="coal (conv pul) (once through)" to="coal (conv pul)"/>
            <rewrite from="gas (CC CCS) (cooling pond)" to="gas (CC CCS)"/>
            <rewrite from="CSP (dry_hybrid)" to="CSP"/>
            <rewrite from="geothermal (dry_hybrid)" to="geothermal"/>
            <rewrite from="refined liquids (CC) (dry cooling)" to="refined liquids (CC)"/>
            <rewrite from="CSP_storage (dry_hybrid)" to="CSP_storage"/>
            <rewrite from="refined liquids (CC) (once through)" to="refined liquids (CC)"/>
            <rewrite from="gas (CC CCS) (recirculating)" to="gas (CC CCS)"/>
            <rewrite from="coal (IGCC) (dry cooling)" to="coal (IGCC)"/>
            <rewrite from="coal (IGCC) (once through)" to="coal (IGCC)"/>
            <rewrite from="gas (CC CCS) (dry cooling)" to="gas (CC CCS)"/>
            <rewrite from="refined liquids (steam/CT) (dry cooling)" to="refined liquids (steam/CT)"/>
            <rewrite from="gas (steam/CT) (dry cooling)" to="gas (steam/CT)"/>
            <rewrite from="coal (IGCC CCS) (once through)" to="coal (IGCC CCS)"/>
            <rewrite from="biomass (conv) (recirculating)" to="biomass (conv)"/>
            <rewrite from="biomass (IGCC) (seawater)" to="biomass (IGCC)"/>
            <rewrite from="biomass (conv CCS) (dry cooling)" to="biomass (conv CCS)"/>
            <rewrite from="biomass (conv) (once through)" to="biomass (conv)"/>
            <rewrite from="refined liquids (CC CCS) (recirculating)" to="refined liquids (CC CCS)"/>
            <rewrite from="Gen_II_LWR (seawater)" to="Gen_II_LWR"/>
            <rewrite from="coal (conv pul) (cooling pond)" to="coal (conv pul)"/>
            <rewrite from="refined liquids (CC CCS) (dry cooling)" to="refined liquids (CC CCS)"/>
            <rewrite from="gas (steam/CT) (cooling pond)" to="gas (steam/CT)"/>
            <rewrite from="gas (CC) (once through)" to="gas (CC)"/>
            <rewrite from="refined liquids (CC) (seawater)" to="refined liquids (CC)"/>
            <rewrite from="gas (steam/CT) (seawater)" to="gas (steam/CT)"/>
        </level>
    </labelRewriteList>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="elec gen by gen tech and cooling tech">
    <axis1 name="technology">technology</axis1>
    <axis2 name="Year">physical-output[@vintage]</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false"> *[@type='sector' and (@name='electricity' or @name='elect_td_bld' or
                  contains(@name,'elec_')) and not(contains(@name, 'water_td'))]/
                  *[@type='subsector' and not (@name='elect_td_bld')]/
                  *[@type='technology' and not(@name='biomass (conv)' or @name='biomass (conv CCS)' or @name='biomass (IGCC)' or @name='biomass (IGCC CCS)'
                                   or @name='coal (conv pul)' or @name='coal (conv pul CCS)' or @name='coal (IGCC)' or @name='coal (IGCC CCS)'
                                   or @name='gas (steam/CT)' or @name='gas (CC)' or @name='gas (CC CCS)'
                                   or @name='refined liquids (steam/CT)' or @name='refined liquids (CC)' or @name='refined liquids (CC CCS)'
                                   or @name='geothermal' or @name='Gen_II_LWR' or @name='Gen_III'
                                   or @name='CSP' or @name='CSP_storage')]/
                  *[@type='output']/physical-output/node()
               </xPath>
    <comments/>
    <labelRewriteList append-values="false">
        <level name="sector">
            <rewrite from="elec_Gen_III" to="electricity"/>
            <rewrite from="elec_CSP_storage" to="electricity"/>
            <rewrite from="elec_refined liquids (steam/CT)" to="electricity"/>
            <rewrite from="elec_geothermal" to="electricity"/>
            <rewrite from="elec_refined liquids (CC)" to="electricity"/>
            <rewrite from="elec_biomass (conv CCS)" to="electricity"/>
            <rewrite from="elec_Gen_II_LWR" to="electricity"/>
            <rewrite from="elec_gas (steam/CT)" to="electricity"/>
            <rewrite from="elec_biomass (IGCC CCS)" to="electricity"/>
            <rewrite from="elec_coal (IGCC CCS)" to="electricity"/>
            <rewrite from="elec_coal (IGCC)" to="electricity"/>
            <rewrite from="elec_coal (conv pul CCS)" to="electricity"/>
            <rewrite from="elec_gas (CC)" to="electricity"/>
            <rewrite from="elec_biomass (IGCC)" to="electricity"/>
            <rewrite from="elec_coal (conv pul)" to="electricity"/>
            <rewrite from="elec_CSP" to="electricity"/>
            <rewrite from="elec_gas (CC CCS)" to="electricity"/>
            <rewrite from="elec_biomass (conv)" to="electricity"/>
            <rewrite from="elec_refined liquids (CC CCS)" to="electricity"/>
        </level>
        <level name="subsector">
            <rewrite from="gas (CC)" to="gas"/>
            <rewrite from="CSP" to="solar"/>
            <rewrite from="gas (CC CCS)" to="gas"/>
            <rewrite from="coal (IGCC CCS)" to="coal"/>
            <rewrite from="biomass (conv)" to="biomass"/>
            <rewrite from="Gen_II_LWR" to="nuclear"/>
            <rewrite from="coal (conv pul)" to="coal"/>
            <rewrite from="coal (IGCC)" to="coal"/>
            <rewrite from="biomass (conv CCS)" to="biomass"/>
            <rewrite from="gas (steam/CT)" to="gas"/>
            <rewrite from="CSP_storage" to="solar"/>
            <rewrite from="biomass (IGCC)" to="biomass"/>
            <rewrite from="Gen_III" to="nuclear"/>
            <rewrite from="coal (conv pul CCS)" to="coal"/>
            <rewrite from="refined liquids (CC)" to="refined liquids"/>
            <rewrite from="biomass (IGCC CCS)" to="biomass"/>
            <rewrite from="refined liquids (CC CCS)" to="refined liquids"/>
            <rewrite from="refined liquids (steam/CT)" to="refined liquids"/>
        </level>
    </labelRewriteList>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="elec water withdrawals by gen tech">
    <axis1 name="input">input</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="input" group="false" sumAll="false">*[@type='sector']/
               *[@type='subsector' and not(@name='elect_td_bld')]/*[@type='technology']/
               *[@type='input' and (@name='water_td_elec_W')]/demand-physical/node()</xPath>
    <comments/>
    <labelRewriteList append-values="false">
        <level name="sector">
            <rewrite from="elec_Gen_III" to="electricity"/>
            <rewrite from="elec_CSP_storage" to="electricity"/>
            <rewrite from="elec_refined liquids (steam/CT)" to="electricity"/>
            <rewrite from="elec_geothermal" to="electricity"/>
            <rewrite from="elec_refined liquids (CC)" to="electricity"/>
            <rewrite from="elec_biomass (conv CCS)" to="electricity"/>
            <rewrite from="elec_Gen_II_LWR" to="electricity"/>
            <rewrite from="elec_gas (steam/CT)" to="electricity"/>
            <rewrite from="elec_biomass (IGCC CCS)" to="electricity"/>
            <rewrite from="elec_coal (IGCC CCS)" to="electricity"/>
            <rewrite from="elec_coal (IGCC)" to="electricity"/>
            <rewrite from="elec_coal (conv pul CCS)" to="electricity"/>
            <rewrite from="elec_gas (CC)" to="electricity"/>
            <rewrite from="elec_biomass (IGCC)" to="electricity"/>
            <rewrite from="elec_coal (conv pul)" to="electricity"/>
            <rewrite from="elec_CSP" to="electricity"/>
            <rewrite from="elec_gas (CC CCS)" to="electricity"/>
            <rewrite from="elec_biomass (conv)" to="electricity"/>
            <rewrite from="elec_refined liquids (CC CCS)" to="electricity"/>
        </level>
        <level name="subsector">
            <rewrite from="gas (CC)" to="gas"/>
            <rewrite from="CSP" to="solar"/>
            <rewrite from="gas (CC CCS)" to="gas"/>
            <rewrite from="coal (IGCC CCS)" to="coal"/>
            <rewrite from="biomass (conv)" to="biomass"/>
            <rewrite from="Gen_II_LWR" to="nuclear"/>
            <rewrite from="coal (conv pul)" to="coal"/>
            <rewrite from="coal (IGCC)" to="coal"/>
            <rewrite from="biomass (conv CCS)" to="biomass"/>
            <rewrite from="gas (steam/CT)" to="gas"/>
            <rewrite from="CSP_storage" to="solar"/>
            <rewrite from="biomass (IGCC)" to="biomass"/>
            <rewrite from="Gen_III" to="nuclear"/>
            <rewrite from="coal (conv pul CCS)" to="coal"/>
            <rewrite from="refined liquids (CC)" to="refined liquids"/>
            <rewrite from="biomass (IGCC CCS)" to="biomass"/>
            <rewrite from="refined liquids (CC CCS)" to="refined liquids"/>
            <rewrite from="refined liquids (steam/CT)" to="refined liquids"/>
        </level>
        <level name="technology">
            <rewrite from="CSP (recirculating)" to="CSP"/>
            <rewrite from="Gen_II_LWR (cooling pond)" to="Gen_II_LWR"/>
            <rewrite from="refined liquids (CC CCS) (seawater)" to="refined liquids (CC CCS)"/>
            <rewrite from="refined liquids (CC) (cooling pond)" to="refined liquids (CC)"/>
            <rewrite from="Gen_III (once through)" to="Gen_III"/>
            <rewrite from="coal (conv pul) (dry cooling)" to="coal (conv pul)"/>
            <rewrite from="refined liquids (steam/CT) (seawater)" to="refined liquids (steam/CT)"/>
            <rewrite from="biomass (IGCC CCS) (seawater)" to="biomass (IGCC CCS)"/>
            <rewrite from="refined liquids (steam/CT) (recirculating)" to="refined liquids (steam/CT)"/>
            <rewrite from="gas (CC) (seawater)" to="gas (CC)"/>
            <rewrite from="biomass (IGCC) (once through)" to="biomass (IGCC)"/>
            <rewrite from="refined liquids (steam/CT) (once through)" to="refined liquids (steam/CT)"/>
            <rewrite from="biomass (IGCC CCS) (dry cooling)" to="biomass (IGCC CCS)"/>
            <rewrite from="geothermal (recirculating)" to="geothermal"/>
            <rewrite from="coal (conv pul CCS) (once through)" to="coal (conv pul CCS)"/>
            <rewrite from="coal (conv pul CCS) (seawater)" to="coal (conv pul CCS)"/>
            <rewrite from="coal (IGCC) (cooling pond)" to="coal (IGCC)"/>
            <rewrite from="coal (conv pul CCS) (recirculating)" to="coal (conv pul CCS)"/>
            <rewrite from="refined liquids (CC CCS) (once through)" to="refined liquids (CC CCS)"/>
            <rewrite from="coal (IGCC CCS) (recirculating)" to="coal (IGCC CCS)"/>
            <rewrite from="coal (IGCC) (recirculating)" to="coal (IGCC)"/>
            <rewrite from="coal (IGCC CCS) (seawater)" to="coal (IGCC CCS)"/>
            <rewrite from="coal (conv pul CCS) (dry cooling)" to="coal (conv pul CCS)"/>
            <rewrite from="biomass (IGCC CCS) (once through)" to="biomass (IGCC CCS)"/>
            <rewrite from="biomass (IGCC) (dry cooling)" to="biomass (IGCC)"/>
            <rewrite from="gas (CC CCS) (seawater)" to="gas (CC CCS)"/>
            <rewrite from="coal (IGCC) (seawater)" to="coal (IGCC)"/>
            <rewrite from="Gen_II_LWR (once through)" to="Gen_II_LWR"/>
            <rewrite from="refined liquids (CC) (recirculating)" to="refined liquids (CC)"/>
            <rewrite from="gas (CC CCS) (once through)" to="gas (CC CCS)"/>
            <rewrite from="refined liquids (steam/CT) (cooling pond)" to="refined liquids (steam/CT)"/>
            <rewrite from="biomass (IGCC) (cooling pond)" to="biomass (IGCC)"/>
            <rewrite from="Gen_III (cooling pond)" to="Gen_III"/>
            <rewrite from="refined liquids (CC CCS) (cooling pond)" to="refined liquids (CC CCS)"/>
            <rewrite from="coal (IGCC CCS) (dry cooling)" to="coal (IGCC CCS)"/>
            <rewrite from="coal (conv pul CCS) (cooling pond)" to="coal (conv pul CCS)"/>
            <rewrite from="biomass (conv CCS) (once through)" to="biomass (conv CCS)"/>
            <rewrite from="coal (IGCC CCS) (cooling pond)" to="coal (IGCC CCS)"/>
            <rewrite from="gas (CC) (recirculating)" to="gas (CC)"/>
            <rewrite from="coal (conv pul) (recirculating)" to="coal (conv pul)"/>
            <rewrite from="biomass (conv CCS) (seawater)" to="biomass (conv CCS)"/>
            <rewrite from="biomass (conv CCS) (recirculating)" to="biomass (conv CCS)"/>
            <rewrite from="Gen_III (recirculating)" to="Gen_III"/>
            <rewrite from="Gen_II_LWR (recirculating)" to="Gen_II_LWR"/>
            <rewrite from="gas (CC) (dry cooling)" to="gas (CC)"/>
            <rewrite from="Gen_III (seawater)" to="Gen_III"/>
            <rewrite from="coal (conv pul) (seawater)" to="coal (conv pul)"/>
            <rewrite from="biomass (conv) (dry cooling)" to="biomass (conv)"/>
            <rewrite from="gas (steam/CT) (once through)" to="gas (steam/CT)"/>
            <rewrite from="biomass (IGCC CCS) (recirculating)" to="biomass (IGCC CCS)"/>
            <rewrite from="gas (steam/CT) (recirculating)" to="gas (steam/CT)"/>
            <rewrite from="CSP_storage (recirculating)" to="CSP_storage"/>
            <rewrite from="biomass (conv) (seawater)" to="biomass (conv)"/>
            <rewrite from="biomass (IGCC) (recirculating)" to="biomass (IGCC)"/>
            <rewrite from="biomass (IGCC CCS) (cooling pond)" to="biomass (IGCC CCS)"/>
            <rewrite from="gas (CC) (cooling pond)" to="gas (CC)"/>
            <rewrite from="biomass (conv CCS) (cooling pond)" to="biomass (conv CCS)"/>
            <rewrite from="biomass (conv) (cooling pond)" to="biomass (conv)"/>
            <rewrite from="coal (conv pul) (once through)" to="coal (conv pul)"/>
            <rewrite from="gas (CC CCS) (cooling pond)" to="gas (CC CCS)"/>
            <rewrite from="CSP (dry_hybrid)" to="CSP"/>
            <rewrite from="geothermal (dry_hybrid)" to="geothermal"/>
            <rewrite from="refined liquids (CC) (dry cooling)" to="refined liquids (CC)"/>
            <rewrite from="CSP_storage (dry_hybrid)" to="CSP_storage"/>
            <rewrite from="refined liquids (CC) (once through)" to="refined liquids (CC)"/>
            <rewrite from="gas (CC CCS) (recirculating)" to="gas (CC CCS)"/>
            <rewrite from="coal (IGCC) (dry cooling)" to="coal (IGCC)"/>
            <rewrite from="coal (IGCC) (once through)" to="coal (IGCC)"/>
            <rewrite from="gas (CC CCS) (dry cooling)" to="gas (CC CCS)"/>
            <rewrite from="refined liquids (steam/CT) (dry cooling)" to="refined liquids (steam/CT)"/>
            <rewrite from="gas (steam/CT) (dry cooling)" to="gas (steam/CT)"/>
            <rewrite from="coal (IGCC CCS) (once through)" to="coal (IGCC CCS)"/>
            <rewrite from="biomass (conv) (recirculating)" to="biomass (conv)"/>
            <rewrite from="biomass (IGCC) (seawater)" to="biomass (IGCC)"/>
            <rewrite from="biomass (conv CCS) (dry cooling)" to="biomass (conv CCS)"/>
            <rewrite from="biomass (conv) (once through)" to="biomass (conv)"/>
            <rewrite from="refined liquids (CC CCS) (recirculating)" to="refined liquids (CC CCS)"/>
            <rewrite from="Gen_II_LWR (seawater)" to="Gen_II_LWR"/>
            <rewrite from="coal (conv pul) (cooling pond)" to="coal (conv pul)"/>
            <rewrite from="refined liquids (CC CCS) (dry cooling)" to="refined liquids (CC CCS)"/>
            <rewrite from="gas (steam/CT) (cooling pond)" to="gas (steam/CT)"/>
            <rewrite from="gas (CC) (once through)" to="gas (CC)"/>
            <rewrite from="refined liquids (CC) (seawater)" to="refined liquids (CC)"/>
            <rewrite from="gas (steam/CT) (seawater)" to="gas (steam/CT)"/>
        </level>
    </labelRewriteList>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="elec td inputs and outputs">
    <axis1 name="sector">sector</axis1>
    <axis2 name="Year">physical-output[@vintage]</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='sector' and (@name='electricity' or @name='electricity_net_ownuse' or
               @name='elect_td_bld' or @name='elect_td_ind' or @name='elect_td_trn')]/
               *[@type='subsector' (:collapse:)]/*[@type='technology' (:collapse:) and not (@name='rooftop_pv')]/
               *[@type='output' (:collapse:)]/physical-output/node()</xPath>
    <comments>excludes rooftop pv</comments>
</supplyDemandQuery>
</aQuery>
<aQuery>
<supplyDemandQuery title="elec consumption by demand sector">
    <axis1 name="sector">sector</axis1>
    <axis2 name="Year">demand-physical[@vintage]</axis2>
    <xPath buildList="true" dataName="output" group="false" sumAll="false">*[@type='sector']//*[@type='input' and (@name='elect_td_bld' or
               @name='elect_td_ind' or @name='elect_td_trn')]/
               demand-physical/node()</xPath>
    <comments/>
</supplyDemandQuery>
</aQuery>
</queries>